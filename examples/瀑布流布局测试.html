<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0063)http://www.zhangxinxu.com/study/201203/waterfall-layout.html### -->
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>瀑布流布局测试</title>
<style>
body {
	background-color: #eee;
	font-size: 84%;
	text-align: justify;
}
.column {
	display: inline-block;
	vertical-align: top;
}
.pic_a {
	display: block;
	padding: 5px;
	margin-bottom: 10px;
	border: 1px solid #ccc;
	background-color: #fff;
	text-decoration: none;
}
.pic_a img {
	display: block;
	margin: 0 auto 5px;
	border: 0;
	vertical-align: bottom;
}
.pic_a strong {
	color: #333;
}
</style>
</head>

<body>
<div id="container"><span id="waterFallColumn_0" class="column" style="width:210px;"><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_000.jpg"><strong>000</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_006.jpg"><strong>006</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_012.jpg"><strong>012</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_018.jpg"><strong>018</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_024.jpg"><strong>024</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_034.jpg"><strong>034</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_039.jpg"><strong>039</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_045.jpg"><strong>045</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_051.jpg"><strong>051</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_054.jpg"><strong>054</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_059.jpg"><strong>059</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_065.jpg"><strong>065</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_070.jpg"><strong>070</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_076.jpg"><strong>076</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_079.jpg"><strong>079</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_084.jpg"><strong>084</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_089.jpg"><strong>089</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_091.jpg"><strong>091</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_097.jpg"><strong>097</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_106.jpg"><strong>106</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_111.jpg"><strong>111</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_115.jpg"><strong>115</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_119.jpg"><strong>119</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_125.jpg"><strong>125</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_133.jpg"><strong>133</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_137.jpg"><strong>137</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_140.jpg"><strong>140</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_149.jpg"><strong>149</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_154.jpg"><strong>154</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_158.jpg"><strong>158</strong></a></span> <span id="waterFallColumn_1" class="column" style="width:210px;"><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_001.jpg"><strong>001</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_007.jpg"><strong>007</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_013.jpg"><strong>013</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_019.jpg"><strong>019</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_025.jpg"><strong>025</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_035.jpg"><strong>035</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_040.jpg"><strong>040</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_046.jpg"><strong>046</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_052.jpg"><strong>052</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_060.jpg"><strong>060</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_066.jpg"><strong>066</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_071.jpg"><strong>071</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_077.jpg"><strong>077</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_080.jpg"><strong>080</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_090.jpg"><strong>090</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_098.jpg"><strong>098</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_107.jpg"><strong>107</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_116.jpg"><strong>116</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_120.jpg"><strong>120</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_128.jpg"><strong>128</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_138.jpg"><strong>138</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_141.jpg"><strong>141</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_150.jpg"><strong>150</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_155.jpg"><strong>155</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_159.jpg"><strong>159</strong></a></span> <span id="waterFallColumn_2" class="column" style="width:210px;"><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_002.jpg"><strong>002</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_008.jpg"><strong>008</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_014.jpg"><strong>014</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_020.jpg"><strong>020</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_026.jpg"><strong>026</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_031.jpg"><strong>031</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_036.jpg"><strong>036</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_044.jpg"><strong>044</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_047.jpg"><strong>047</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_055.jpg"><strong>055</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_061.jpg"><strong>061</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_067.jpg"><strong>067</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_072.jpg"><strong>072</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_081.jpg"><strong>081</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_085.jpg"><strong>085</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_092.jpg"><strong>092</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_096.jpg"><strong>096</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_099.jpg"><strong>099</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_103.jpg"><strong>103</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_112.jpg"><strong>112</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_121.jpg"><strong>121</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_126.jpg"><strong>126</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_129.jpg"><strong>129</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_134.jpg"><strong>134</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_142.jpg"><strong>142</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_146.jpg"><strong>146</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_151.jpg"><strong>151</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_160.jpg"><strong>160</strong></a></span> <span id="waterFallColumn_3" class="column" style="width:210px;"><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_003.jpg"><strong>003</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_009.jpg"><strong>009</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_015.jpg"><strong>015</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_021.jpg"><strong>021</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_027.jpg"><strong>027</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_030.jpg"><strong>030</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_032.jpg"><strong>032</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_041.jpg"><strong>041</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_048.jpg"><strong>048</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_053.jpg"><strong>053</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_056.jpg"><strong>056</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_062.jpg"><strong>062</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_073.jpg"><strong>073</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_078.jpg"><strong>078</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_086.jpg"><strong>086</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_093.jpg"><strong>093</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_100.jpg"><strong>100</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_108.jpg"><strong>108</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_113.jpg"><strong>113</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_117.jpg"><strong>117</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_122.jpg"><strong>122</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_130.jpg"><strong>130</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_139.jpg"><strong>139</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_143.jpg"><strong>143</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_147.jpg"><strong>147</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_152.jpg"><strong>152</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_156.jpg"><strong>156</strong></a></span> <span id="waterFallColumn_4" class="column" style="width:210px;"><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_004.jpg"><strong>004</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_010.jpg"><strong>010</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_016.jpg"><strong>016</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_022.jpg"><strong>022</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_028.jpg"><strong>028</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_037.jpg"><strong>037</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_042.jpg"><strong>042</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_049.jpg"><strong>049</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_057.jpg"><strong>057</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_063.jpg"><strong>063</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_068.jpg"><strong>068</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_074.jpg"><strong>074</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_082.jpg"><strong>082</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_087.jpg"><strong>087</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_094.jpg"><strong>094</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_101.jpg"><strong>101</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_104.jpg"><strong>104</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_109.jpg"><strong>109</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_118.jpg"><strong>118</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_123.jpg"><strong>123</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_131.jpg"><strong>131</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_135.jpg"><strong>135</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_144.jpg"><strong>144</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_153.jpg"><strong>153</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_157.jpg"><strong>157</strong></a></span> <span id="waterFallColumn_5" class="column" style="width:210px;"><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_005.jpg"><strong>005</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_011.jpg"><strong>011</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_017.jpg"><strong>017</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_023.jpg"><strong>023</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_029.jpg"><strong>029</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_033.jpg"><strong>033</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_038.jpg"><strong>038</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_043.jpg"><strong>043</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_050.jpg"><strong>050</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_058.jpg"><strong>058</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_064.jpg"><strong>064</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_069.jpg"><strong>069</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_075.jpg"><strong>075</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_083.jpg"><strong>083</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_088.jpg"><strong>088</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_095.jpg"><strong>095</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_102.jpg"><strong>102</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_105.jpg"><strong>105</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_110.jpg"><strong>110</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_114.jpg"><strong>114</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_124.jpg"><strong>124</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_127.jpg"><strong>127</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_132.jpg"><strong>132</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_136.jpg"><strong>136</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_145.jpg"><strong>145</strong></a><a href="./瀑布流布局测试_files/瀑布流布局测试.html" class="pic_a"><img src="./瀑布流布局测试_files/P_148.jpg"><strong>148</strong></a></span> <span id="waterFallDetect" class="column" style="width:210px;"></span></div>
<script>
var waterFall = {
	container: document.getElementById("container"),
	columnNumber: 1,
	columnWidth: 210,
	// P_001.jpg ~ P_160.jpg
	rootImage: "http://cued.xunlei.com/demos/publ/img/",
	indexImage: 0,
	
	scrollTop: document.documentElement.scrollTop || document.body.scrollTop,
	detectLeft: 0,
	
	loadFinish: false,
	
	// 返回固定格式的图片名
	getIndex: function() {
		var index = this.indexImage;
		if (index < 10) {
			index = "00" + index;	
		} else if (index < 100) {
			index = "0" + index;	
		}
		return index;
	},
	
	// 是否滚动载入的检测
	appendDetect: function() {
		var start = 0;
		for (start; start < this.columnNumber; start++) {
			var eleColumn = document.getElementById("waterFallColumn_" + start);
			if (eleColumn && !this.loadFinish) {
				if (eleColumn.offsetTop + eleColumn.clientHeight < this.scrollTop + (window.innerHeight || document.documentElement.clientHeight)) {
					this.append(eleColumn);
				}
			}			
		}
		
		return this;
	},
	
	// 滚动载入
	append: function(column) {
		this.indexImage += 1;
		var html = '', index = this.getIndex(), imgUrl = this.rootImage + "P_" + index + ".jpg";
		
		// 图片尺寸
		var aEle = document.createElement("a");
		aEle.href = "###";
		aEle.className = "pic_a";
		aEle.innerHTML = '<img src="'+ imgUrl +'" /><strong>'+ index +'</strong>';
		column.appendChild(aEle);
		
		if (index >= 160) {
			//alert("图片加载光光了！");
			this.loadFinish = true;
		}
		
		return this;
	},
	
	// 页面加载初始创建
	create: function() {
		this.columnNumber = Math.floor(document.body.clientWidth / this.columnWidth);
		
		var start = 0, htmlColumn = '', self = this;
		for (start; start < this.columnNumber; start+=1) {
			htmlColumn = htmlColumn + '<span id="waterFallColumn_'+ start +'" class="column" style="width:'+ this.columnWidth +'px;">'+ 
				function() {
					var html = '', i = 0;
					for (i=0; i<5; i+=1) {
						self.indexImage = start + self.columnNumber * i;
						var index = self.getIndex();
						html = html + '<a href="###" class="pic_a"><img src="'+ self.rootImage + "P_" + index +'.jpg" /><strong>'+ index +'</strong></a>';
					}
					return html;	
				}() +
			'</span> ';	
		}
		htmlColumn += '<span id="waterFallDetect" class="column" style="width:'+ this.columnWidth +'px;"></span>';
		
		this.container.innerHTML = htmlColumn;
		
		this.detectLeft = document.getElementById("waterFallDetect").offsetLeft;
		return this;
	},
	
	refresh: function() {
		var arrHtml = [], arrTemp = [], htmlAll = '', start = 0, maxLength = 0;
		for (start; start < this.columnNumber; start+=1) {
			var arrColumn = document.getElementById("waterFallColumn_" + start).innerHTML.match(/<a(?:.|\n|\r|\s)*?a>/gi);
			if (arrColumn) {
				maxLength = Math.max(maxLength, arrColumn.length);
				// arrTemp是一个二维数组
				arrTemp.push(arrColumn);
			}
		}
		
		// 需要重新排序
		var lengthStart, arrStart;
		for (lengthStart = 0; lengthStart<maxLength; lengthStart++) {
			for (arrStart = 0; arrStart<this.columnNumber; arrStart++) {
				if (arrTemp[arrStart][lengthStart]) {
					arrHtml.push(arrTemp[arrStart][lengthStart]);	
				}
			}	
		}
		
		
		if (arrHtml && arrHtml.length !== 0) {
			// 新栏个数		
			this.columnNumber = Math.floor(document.body.clientWidth / this.columnWidth);
			
			// 计算每列的行数
			// 向下取整
			var line = Math.floor(arrHtml.length / this.columnNumber);
			
			// 重新组装HTML
			var newStart = 0, htmlColumn = '', self = this;
			for (newStart; newStart < this.columnNumber; newStart+=1) {
				htmlColumn = htmlColumn + '<span id="waterFallColumn_'+ newStart +'" class="column" style="width:'+ this.columnWidth +'px;">'+ 
					function() {
						var html = '', i = 0;
						for (i=0; i<line; i+=1) {
							html += arrHtml[newStart + self.columnNumber * i];
						}
						// 是否补足余数
						html = html + (arrHtml[newStart + self.columnNumber * line] || '');
						
						return html;	
					}() +
				'</span> ';	
			}
			htmlColumn += '<span id="waterFallDetect" class="column" style="width:'+ this.columnWidth +'px;"></span>';
		
			this.container.innerHTML = htmlColumn;
			
			this.detectLeft = document.getElementById("waterFallDetect").offsetLeft;
			
			// 检测
			this.appendDetect();
		}
		return this;
	},
	
	// 滚动加载
	scroll: function() {
		var self = this;
		window.onscroll = function() {
			// 为提高性能，滚动前后距离大于100像素再处理
			var scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
			if (!this.loadFinish && Math.abs(scrollTop - self.scrollTop) > 100) {
				self.scrollTop = scrollTop;
				self.appendDetect();	
			}
			
		};
		return this;
	},
	
	// 浏览器窗口大小变换
	resize: function() {
		var self = this;
		window.onresize = function() {
			var eleDetect = document.getElementById("waterFallDetect"), detectLeft = eleDetect && eleDetect.offsetLeft;
			if (detectLeft && Math.abs(detectLeft - self.detectLeft) > 50) {
				// 检测标签偏移异常，认为布局要改变
				self.refresh();	
			}
		};
		return this;
	},
	init: function() {
		if (this.container) {
			this.create().scroll().resize();	
		}
	}
};
waterFall.init();
</script>


</body></html>